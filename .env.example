# ==============================================
# Pressograph Environment Variables Template
# ==============================================
# Copy this file to .env.local and fill in the values
# Use deploy/scripts/generate-secrets.sh to generate secure secrets
#
# Security Notice:
# - NEVER commit .env.local to version control
# - Rotate secrets regularly in production
# - Use different secrets for each environment

# ----------------------------------------------
# Application
# ----------------------------------------------
NODE_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_TELEMETRY_DISABLED=1

# ----------------------------------------------
# Database (PostgreSQL 18)
# ----------------------------------------------
# Full connection string format (preferred)
DATABASE_URL=postgresql://postgres:CHANGE_ME@db:5432/pressograph

# Individual database credentials
POSTGRES_USER=postgres
POSTGRES_PASSWORD=CHANGE_ME
POSTGRES_DB=pressograph
POSTGRES_HOST=db
POSTGRES_PORT=5432

# Database pool settings (optional)
# DATABASE_POOL_MIN=2
# DATABASE_POOL_MAX=10

# ----------------------------------------------
# Cache (Valkey 9 / Redis compatible)
# ----------------------------------------------
REDIS_URL=redis://cache:6379

# Optional: Redis password for production
# VALKEY_PASSWORD=

# Optional: Redis database number
# REDIS_DB=0

# ----------------------------------------------
# Authentication (NextAuth.js)
# ----------------------------------------------
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=GENERATE_WITH_SCRIPT

# Optional: Session settings
# NEXTAUTH_SESSION_MAX_AGE=2592000  # 30 days in seconds

# ----------------------------------------------
# Application Secrets
# ----------------------------------------------
# General application secret (256-bit recommended)
APP_SECRET=GENERATE_WITH_SCRIPT

# JWT signing secret (256-bit recommended)
JWT_SECRET=GENERATE_WITH_SCRIPT

# API authentication key
API_SECRET_KEY=GENERATE_WITH_SCRIPT

# Data encryption key (optional, 256-bit for AES)
# ENCRYPTION_KEY=GENERATE_WITH_SCRIPT

# ----------------------------------------------
# Email / SMTP (Optional)
# ----------------------------------------------
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=user@example.com
# SMTP_PASSWORD=
# SMTP_FROM=noreply@pressograph.com
# SMTP_FROM_NAME=Pressograph

# ----------------------------------------------
# Object Storage (Optional - S3 compatible)
# ----------------------------------------------
# S3_BUCKET=pressograph-uploads
# S3_REGION=us-east-1
# S3_ENDPOINT=https://s3.amazonaws.com
# S3_ACCESS_KEY=
# S3_SECRET_KEY=
# S3_PUBLIC_URL=https://cdn.example.com

# ----------------------------------------------
# External Services (Optional)
# ----------------------------------------------
# Analytics
# ANALYTICS_ID=
# SENTRY_DSN=

# Search
# MEILISEARCH_HOST=http://search:7700
# MEILISEARCH_API_KEY=

# ----------------------------------------------
# Feature Flags (Optional)
# ----------------------------------------------
# ENABLE_SIGNUP=true
# ENABLE_EMAIL_VERIFICATION=false
# ENABLE_TWO_FACTOR=false

# ----------------------------------------------
# Observability (OpenTelemetry + VictoriaMetrics)
# ----------------------------------------------
# Enable OpenTelemetry (set to 'true' to enable)
OTEL_ENABLED=false

# VictoriaMetrics endpoints
VICTORIA_METRICS_URL=http://victoria-metrics:8428
VICTORIA_LOGS_URL=http://victoria-logs:9428
VICTORIA_TRACES_URL=http://victoria-traces:4318

# Optional: Custom service name
# OTEL_SERVICE_NAME=pressograph

# ----------------------------------------------
# Development Only
# ----------------------------------------------
# Enable debug logging
# DEBUG=pressograph:*

# Disable SSL verification (dev only)
# NODE_TLS_REJECT_UNAUTHORIZED=0

# ----------------------------------------------
# Production Only
# ----------------------------------------------
# Rate limiting
# RATE_LIMIT_ENABLED=true
# RATE_LIMIT_MAX=100
# RATE_LIMIT_WINDOW=900000  # 15 minutes in ms

# CORS origins (comma-separated)
# ALLOWED_ORIGINS=https://pressograph.com,https://www.pressograph.com
